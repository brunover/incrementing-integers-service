(window["webpackJsonpincrementing-integers-service"]=window["webpackJsonpincrementing-integers-service"]||[]).push([[0],{200:function(e,t,n){},201:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(24),o=n.n(c),i=n(9),l=n(10),s=n(12),u=n(11),m=n(13),d=n(21),h=n(3),p=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(h.Panel,null,r.a.createElement(h.Panel.Body,null,r.a.createElement(h.Alert,{type:"warning"},r.a.createElement("h3",null,"Page not found - 404"),r.a.createElement("p",null,window.location.href)))))}}]),t}(a.Component),f=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).getInitials=function(e){if(e&&0===e.length)return"AN";if((e=e.trim()).length<2)return e.toUpperCase();var t=e.split(" ");return 1===t.length?(t[0].charAt(0)+""+t[0].charAt(1)).toUpperCase():(t[0].charAt(0)+""+t[1].charAt(0)).toUpperCase()},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",{className:"fd-container"},r.a.createElement(h.Shellbar,{logo:r.a.createElement("img",{alt:"Incrementing Integer Service",src:"/logo.png"}),productTitle:"Incrementing Integer Service",profile:{glyph:"settings",colorAccent:4,initials:"...",userName:e.email||"AN"},profileMenu:[{callback:function(){alert("Signing out!")},glyph:"log",name:"Sign Out",size:"s"}]}))}}]),t}(a.Component),g=(n(59),n(60),n(177)),b=function(e){return g.stringify(e)},v=n(180),y=localStorage.token;y||(y=localStorage.token="1234567");var E=window.location.protocol,O=window.location.hostname,j=v.create({baseURL:"".concat(E,"//").concat(O,"/api/v1"),headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer ".concat(y)}}),w=function(e){return j.get("/users/".concat(e)).then(function(e){return e.data})},S=function(e){return j.get("/users/".concat(e,"/next")).then(function(e){return e.data})},k=function(e,t){return j.patch("/users/".concat(e,"/current"),t).then(function(e){return e})},C=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,n.state={isLoading:!0,error:null,success:null,user:{}},n.fetchUser=function(e){return w(e).then(function(e){var t=e||[];n.safeSetState({isLoading:!1,user:t})}).catch(function(e){console.error(e.response),n.safeSetState({isLoading:!1,error:e})})},n.requestNewInteger=function(e){n.safeSetState({isLoading:!0}),S(e).then(function(e){200===e.status&&n.fetchUser(n.state.user.id)}).catch(function(e){console.error(e.response),n.safeSetState({isLoading:!1,error:e})})},n.resetInteger=function(e,t){n.safeSetState({isLoading:!0}),k(e,b({current:t})).then(function(e){200===e.status&&n.fetchUser(n.state.user.id)}).catch(function(e){console.error(e.response),n.setState({error:e})})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"safeSetState",value:function(e){this._isMounted?this.setState(e):console.warn("State was not updated because component is unmounted",e)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){this._isMounted=!0,this.fetchUser(1)}},{key:"render",value:function(){var e=this,t=this.state,n=t.isLoading,a=t.error,c=t.user;return r.a.createElement("div",{className:"fd-container fd-container--centered"},r.a.createElement(f,{user:c}),r.a.createElement("div",{className:"fd-container"},r.a.createElement("div",{className:"fd-has-margin-bottom-medium"},r.a.createElement("div",{className:"fd-container"},r.a.createElement(h.Panel,null,r.a.createElement(h.Panel.Body,null,a&&r.a.createElement(h.Status,{type:"error",glyph:"message-error"},a.message),r.a.createElement(h.ActionBar,null,r.a.createElement(h.ActionBar.Header,{description:"Request the next integer or reset the value of the current one",title:"Your personal integer"}),r.a.createElement(h.ActionBar.Actions,null,r.a.createElement(h.Button,{glyph:"add",onClick:function(){return e.requestNewInteger(c.id||0)}},"Request New Integer"),r.a.createElement(h.Button,{glyph:"refresh",onClick:function(){return e.resetInteger(c.id||0,0)}},"Reset My Integer"))),n?r.a.createElement(A,null):r.a.createElement(h.PanelGrid,{cols:2},r.a.createElement(h.Panel,null,r.a.createElement(h.Panel.Body,null,r.a.createElement(h.Tile,null,r.a.createElement(h.Tile.Content,{title:"User"},r.a.createElement("p",{className:"fd-has-type-4"},c.email||"No user"))))),r.a.createElement(h.Panel,null,r.a.createElement(h.Panel.Body,null,r.a.createElement(h.Tile,null,r.a.createElement(h.Tile.Content,{title:"Current Integer"},r.a.createElement("p",{className:"fd-has-type-4"},c.int_value||0))))))))))))}}]),t}(a.Component),N=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"LOGIN")}}]),t}(a.PureComponent),A=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).renderSpinner=function(e){var t=e.size,n="";if(t)switch(t.toLowerCase()){case"s":n="fd-loading-spinner--small";break;case"l":n="fd-loading-spinner--large";break;default:n=""}return r.a.createElement("div",{className:"fd-loading-spinner ".concat(n),"aria-hidden":"false","aria-label":"Loading"})},n.renderSynchronizer=function(e){var t=e.size,n=e.animate,a=e.icon;return r.a.createElement("span",{className:"\n          fd-has-margin-x-tiny \n          sap-icon--".concat(a," \n          sap-icon--").concat(t," \n          sap-icon--animate-").concat(n,"\n        ")})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.display,n=e.type;return t?"synch"===n.toLowerCase()?this.renderSynchronizer(this.props):this.renderSpinner(this.props):null}}]),t}(a.Component);A.defaultProps={display:!0,type:"spin",size:"m",animate:"spin",icon:"synchronize"};var I=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(d.d,null,r.a.createElement(d.a,{exact:!0,from:"/",to:"/dashboard"}),r.a.createElement(d.b,{path:"/dashboard",component:C}),r.a.createElement(d.b,{exact:!0,path:"/login",component:N}),r.a.createElement(d.b,{path:"",component:p})))}}]),t}(a.Component),B=(n(200),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(I,null)}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var L=n(29);o.a.render(r.a.createElement(L.a,null,r.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},61:function(e,t,n){e.exports=n(201)}},[[61,1,2]]]);
//# sourceMappingURL=main.aef22818.chunk.js.map